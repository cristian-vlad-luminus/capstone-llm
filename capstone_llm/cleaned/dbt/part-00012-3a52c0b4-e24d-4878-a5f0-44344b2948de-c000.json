{"title":"In dbt, when I add a well formatted .yml file to my project, I stop being able to run dbt or compile SQL until I delete the yaml file. Why?","question_body":"<p>Thank you in advance for helping me in my journey! I am a dbt newb, doing the <a href=\"https://courses.getdbt.com/courses/take/fundamentals/texts/17813360-learning-objectives\" rel=\"noreferrer\">dbt fundamentals course</a>. I am following the directions exactly.</p>\n<p>Sequence of the issue:</p>\n<ol>\n<li><p>I created .sql files in my models folder and subfolders, compiled them, ran dbt, and they showed up in my Snowflake DW. No problem</p>\n</li>\n<li><p>I added a .yml file to one of the sub folders\n<a href=\"https://i.sstatic.net/QLfPl.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/QLfPl.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>The issue happens when I click &quot;save&quot; to save the code to the .yml file - that the course provided <a href=\"https://courses.getdbt.com/courses/take/fundamentals/texts/17704336-practice\" rel=\"noreferrer\">here</a>. (See compilation error in screenshot)</p>\n</li>\n</ol>\n<p><a href=\"https://i.sstatic.net/MCVAF.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/MCVAF.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"4\">\n<li>When I click on Compilation Error, I get this (Refreshing the IDE does not help):</li>\n</ol>\n<p>Partial parsing enabled: 0 files deleted, 0 files added, 1 files changed.\n'version'</p>\n<p><a href=\"https://i.sstatic.net/Les2W.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/Les2W.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"5\">\n<li><p>At this point, I am not able to run any of the models, even those in other subfolders. For example\n<a href=\"https://i.sstatic.net/5sxOS.png\" rel=\"noreferrer\"><img src=\"https://i.sstatic.net/5sxOS.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Also, those .sql files also have the same compilation error above.</p>\n</li>\n<li><p>When I delete the .yml file, everything goes to normal and all the errors disappear.</p>\n</li>\n<li><p>things I have tried:</p>\n</li>\n</ol>\n<ul>\n<li>Deleting all the contents of the yml file and hitting save --&gt; the compilation error goes away</li>\n<li>Changing indentation</li>\n<li>Only leaving a single test instead of two</li>\n<li>Creating the yml file in a different subfolder</li>\n<li>Signing out of dbt and back in</li>\n</ul>\n<p>Please help!\nthank you</p>\n","answer_body":"<p>I think it may be this bug: <a href=\"https://github.com/dbt-labs/dbt/issues/3567\" rel=\"noreferrer\">https://github.com/dbt-labs/dbt/issues/3567</a></p>\n<p>That's related to <a href=\"https://docs.getdbt.com/reference/parsing#partial-parsing\" rel=\"noreferrer\">partial parsing</a>, which is a dbt Core performance optimization used in the dbt Cloud IDE. We rebuilt partial parsing from the ground up in v0.20.0, and we'll be including fixes for bugs we uncover (including that one) in v0.20.1.</p>\n<p>In the meantime, if you find yourself in an error state like the one above, you can trigger a full re-parse by deleting the file <code>target/partial_parse.msgpack</code>.</p>\n"}
