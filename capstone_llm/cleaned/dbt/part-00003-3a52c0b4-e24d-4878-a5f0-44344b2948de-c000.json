{"title":"dbt to snowflake connections fails via profiles.yml","question_body":"<p>I'm trying to connect to snowflake via dbt but connections fail with the error below:</p>\n<pre><code>Using profiles.yml file at /home/myname/.dbt/profiles.yml\nUsing dbt_project.yml file at /mnt/c/Users/Public/learn_dbt/rks-learn-dbt/learn_dbt/dbt_project.yml\nConfiguration:\n  profiles.yml file [ERROR invalid]\n  dbt_project.yml file [OK found and valid]\nProfile loading failed for the following reason:\nRuntime Error\n  Could not find profile named 'learn_dbt'\nRequired dependencies:\n - git [OK found] \n</code></pre>\n<p>Any advice please.</p>\n<p>Note: I am learning to setup dbt connections looking at udemy videos.</p>\n<p>Below is my <code>profiles.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>learn_dbt:\n  target: dev\n  outputs:\n    dev:\n      type: snowflake\n      account: XXXXXX\n      user: XXXX                \n      password: XXXX                     \n      role: transform_role\n      database: analytics\n      warehouse: transform_wh\n      schema: dbt\n      threads: 1\n      client_session_keep_alive: False\n</code></pre>\n","answer_body":"<p>My first guess is that you have a <code>profiles.yml</code> file in your dbt project folder and dbt is not actually using the one in <code>/home/myname/.dbt/</code>.</p>\n<p>Could you try running the following?</p>\n<pre class=\"lang-sh prettyprint-override\"><code>dbt debug --profiles-dir /home/myname/.dbt\n</code></pre>\n<p>The flag <code>--profiles-dir</code> works on most dbt cli commands and lets you use a custom <code>profiles.yml</code> that's outside your project. I use this flag all the time.</p>\n"}
